
  <h2>
    Listagem de Pessoas
  </h2>

  <hr/>

  <div *ngIf="mensagem" class="alert alert-success" role="alert">
      {{mensagem}}
  </div>

  <div class="row">

      <div class="form-group col-md-5">
        <label>Nome</label>
        <input [(ngModel)]="nome" name="nome" class="form-control" type="text"/>
      </div>

      <div class="form-group col-md-3">
        <label>CPF</label>
        <input [(ngModel)]="cpf" name="cpf" class="form-control" type="text"/>
      </div>

      <div class="form-group col-md-4" style="margin-top: 30px;">
        <button class="btn btn-default mr-3" (click)="getPessoasFiltradas()" type="button">Pesquisar</button>
        <button class="btn btn-primary" [routerLink]="['cadastro']" type="button">Cadastrar</button>
      </div>
  </div>

  <table class="table" *ngIf="pessoas.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>E-mail</th>
        <th class="text-center">CPF</th>
        <th class="text-center">Idade</th>
        <th class="text-center">Quantidade de Telefones</th>
        <th class="text-center">Ações</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let pessoaIter of pessoas; let i = index;">
        <td>{{ pessoaIter.id }}</td>
        <td>{{ pessoaIter.nome}}</td>
        <td>{{ pessoaIter.email }}</td>
        <td class="text-center">{{ pessoaIter.cpf }}</td>
        <td class="text-center">{{ pessoaIter.dataNascimento | calcularIdade }}</td>
        <td class="text-center">{{ pessoaIter.telefones.length }}</td>
        <td class="text-center">

           <button class="btn btn-link" [routerLink]="['cadastro', pessoaIter.id]">
              <span class="fa fa-pencil" aria-hidden="true"></span>
            </button>

            <button class="btn btn-link" (click)="removerPessoa(pessoaIter, i);">
              <span class="fa fa-trash" aria-hidden="true"></span>
            </button>
        </td>
      </tr>
    </tbody>

  </table>
